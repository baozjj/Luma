# Luma 光栅卡定制 App 产品文档

## 一、产品概述

### 1.1 产品定位
Luma 是一款面向 C 端用户的移动端应用，专注于个性化光栅卡（Lenticular Card）定制服务。用户可以上传视频，系统自动抽帧生成光栅动态效果，并支持自定义卡片边框图案，最终生成可用于打印的实体卡片。

### 1.2 目标用户
- 追求个性化礼品的年轻用户（18-35岁）
- 手账、贺卡爱好者
- 追星族（制作偶像周边卡片）
- 情侣、亲友间互赠纪念品的用户

### 1.3 核心价值
- **简单易用**：无需专业设计技能，上传视频即可生成光栅卡
- **高度定制**：边框图案可自由选择或上传
- **所见即所得**：3D 预览功能让用户提前感受成品效果

---

## 二、功能模块

### 2.1 首页

#### 2.1.1 页面结构
- **顶部导航栏**：Logo + 消息入口 + 个人中心入口
- **Banner 轮播区**：展示活动、教程、灵感案例
- **快捷入口**：「开始制作」主按钮（视觉突出）
- **作品展示区**：瀑布流展示社区优秀作品/官方模板
- **底部 Tab 栏**：首页 | 我的作品 | 我的

#### 2.1.2 交互说明
- 点击「开始制作」进入制作流程
- 点击作品卡片可查看详情或「使用此模板」
- 下拉刷新，上拉加载更多

---

### 2.2 视频上传与处理

#### 2.2.1 入口
从首页点击「开始制作」进入

#### 2.2.2 视频选择
- **上传方式**：
  - 从相册选择视频
  - 现场拍摄视频
- **视频限制**：
  - 时长：**1-5 秒**（超出提示裁剪）
  - 格式：MP4、MOV
  - 分辨率：建议 720p 及以上
  - 文件大小：≤ 50MB

#### 2.2.3 视频裁剪（可选）
- 若视频超过 5 秒，自动弹出裁剪界面
- **UI 元素**：
  - 视频预览区
  - 时间轴滑块（可拖动选择起止点）
  - 当前选中时长显示
  - 「确认」「取消」按钮

#### 2.2.4 抽帧预览
- 系统自动抽帧（默认 8-12 帧，根据视频时长动态调整）
- **UI 元素**：
  - 横向帧序列缩略图
  - 支持手动删除/调整帧顺序
  - 帧数提示（如「当前 10 帧，建议 8-12 帧效果最佳」）
- **交互**：
  - 长按帧可拖动排序
  - 左滑单帧可删除
  - 点击「添加帧」可从视频中补选

---

### 2.3 边框装饰

#### 2.3.1 页面结构
- **预览区**：卡片实时预览，边框区域高亮可放置
- **贴纸面板**：底部抽屉式面板，展示可拖拽的 icon/贴纸

#### 2.3.2 内置贴纸库
- **分类**：
  - 表情：笑脸、爱心、星星等
  - 符号：音符、闪电、箭头等
  - 节日：圣诞、新年、生日等
  - 自然：花朵、叶子、云朵等
  - 几何：圆点、三角、方块等
- 每类提供 15-20 个精选 icon
- 简洁线性/扁平风格，与整体 UI 统一

#### 2.3.3 自定义上传
- 支持上传 PNG 图片作为自定义贴纸
- 建议尺寸：200×200px，透明背景
- 上传后自动加入「我的贴纸」

#### 2.3.4 拖拽交互
- **拖拽放置**：长按贴纸拖动至边框任意位置释放
- **位置调整**：放置后可继续拖动微调位置
- **缩放**：双指捏合调整贴纸大小
- **旋转**：双指旋转调整角度
- **删除**：拖拽至底部删除区域，或点击贴纸后点「×」
- **层级**：后放置的贴纸在上层

#### 2.3.5 边框基础设置
- **边框颜色**：纯色选择器（默认白色）
- **边框宽度**：3 档可选（窄/中/宽）

#### 2.3.6 操作栏
- 「撤销」：回退上一步操作
- 「清空」：移除所有贴纸
- 「下一步」：进入 3D 预览

---

### 2.4 3D 预览

#### 2.4.1 功能说明
模拟真实光栅卡的视觉效果，让用户在下单前直观感受成品

#### 2.4.2 UI 元素
- **3D 卡片模型**：
  - 卡片悬浮于屏幕中央
  - 展示完整边框 + 光栅内容区
- **交互控制**：
  - 手指左右滑动：旋转卡片，触发光栅动画效果
  - 双指捏合：缩放卡片
  - 双击：重置视角
- **光栅效果模拟**：
  - 随卡片角度变化，内容区呈现帧切换动画
  - 模拟真实光栅的「动态」视觉
- **环境光效**：
  - 轻微反光效果增强真实感

#### 2.4.3 底部操作栏
- 「返回编辑」：回到上一步修改
- 「保存作品」：保存至我的作品
- 「导出」：导出预览图/动图

#### 2.4.4 辅助功能
- 「查看平面效果」切换按钮：2D/3D 视图切换
- 「播放动画」按钮：自动旋转展示光栅效果

---

### 2.5 保存与导出

#### 2.5.1 功能说明
当前版本全免费，用户完成制作后可保存作品

#### 2.5.2 保存选项
- **保存至作品集**：存入「我的作品」，可随时查看/编辑
- **导出预览图**：生成静态预览图保存至相册
- **导出动图**：生成 GIF 动图展示光栅效果

#### 2.5.3 分享（可选）
- 生成分享卡片，可发送至微信/朋友圈

---

### 2.6 我的作品

#### 2.6.1 页面结构
- **Tab 切换**：草稿 | 已完成
- **作品卡片**：
  - 缩略图 + 创建时间 + 状态标签
  - 操作：编辑 | 删除 | 再次下单

#### 2.6.2 交互
- 点击草稿进入编辑流程
- 点击已完成作品可查看详情或复制制作

---

### 2.7 个人中心

#### 2.7.1 页面结构
- **用户信息**：头像、昵称、会员等级
- **功能入口**：
  - 我的订单
  - 我的素材（上传的边框图案）
  - 地址管理
  - 设置（通知、隐私、关于）
  - 帮助与反馈

---

## 三、UI 设计规范（简约风格）

### 3.1 设计理念
- **Less is More**：去除冗余装饰，突出核心功能
- **留白充足**：内容呼吸感强，视觉不拥挤
- **克制用色**：主色单一，辅助色极少

### 3.2 色彩系统
- **主色**：深灰黑（#1A1A1A）— 用于标题、主按钮
- **背景色**：纯白（#FFFFFF）或极浅灰（#FAFAFA）
- **辅助色**：中灰（#9CA3AF）— 用于次要文字、分割线
- **强调色**：仅在关键操作使用，如蓝色（#3B82F6）用于「下一步」按钮
- **避免**：渐变、多彩配色、过度装饰

### 3.3 字体
- 标题：PingFang SC Medium，18-20px，深灰黑
- 正文：PingFang SC Regular，14-15px
- 辅助文字：12px，中灰
- **字重克制**：仅标题加粗，正文保持 Regular

### 3.4 布局与间距
- 大量留白，元素间距宽松（16-24px）
- 内容居中或左对齐，避免复杂布局
- 页面结构清晰，层级分明

### 3.5 圆角与阴影
- 卡片圆角：8-12px（统一）
- 按钮圆角：6-8px
- 阴影：极淡或无阴影，保持扁平感

### 3.6 图标
- 细线性图标（1.5px stroke）
- 统一 20-24px 尺寸
- 颜色与文字同色，不使用彩色图标

### 3.7 按钮样式
- **主按钮**：深色填充 + 白色文字，无阴影
- **次按钮**：透明背景 + 边框 + 深色文字
- **文字按钮**：无边框，仅文字

### 3.8 动效
- 过渡动画轻柔（200-300ms）
- 避免夸张弹跳效果
- 加载使用简洁的圆形 spinner

---

## 四、交互设计原则

### 4.1 流程简化
- 核心流程控制在 **4 步以内**：上传视频 → 选择边框 → 3D 预览 → 下单
- 每步提供明确的进度指示

### 4.2 即时反馈
- 所有操作提供即时视觉反馈（加载动画、成功提示）
- 视频处理、抽帧等耗时操作显示进度条

### 4.3 容错设计
- 关键操作前二次确认（删除、退出编辑）
- 草稿自动保存，防止意外丢失
- 网络异常时提供重试机制

### 4.4 手势优化
- 充分利用移动端手势：滑动、捏合、长按
- 3D 预览区手势操作自然流畅

---

## 五、页面流程图

```
┌─────────────┐
│    首页     │
└──────┬──────┘
       │ 点击「开始制作」
       ▼
┌─────────────┐
│  视频上传   │ ← 相册/拍摄
└──────┬──────┘
       │ 视频超时长？
       ▼
┌─────────────┐
│  视频裁剪   │ (可选)
└──────┬──────┘
       │
       ▼
┌─────────────┐
│  抽帧预览   │ ← 调整帧序列
└──────┬──────┘
       │
       ▼
┌─────────────┐
│  边框定制   │ ← 内置/上传图案
└──────┬──────┘
       │
       ▼
┌─────────────┐
│  3D 预览    │ ← 旋转查看效果
└──────┬──────┘
       │
       ▼
┌─────────────┐
│  保存/导出  │ ← 保存作品/导出图片
└─────────────┘
```

---

## 六、MVP 功能优先级

### P0（必须有）
- 视频上传与时长限制
- 自动抽帧处理
- 内置贴纸拖拽放置
- 3D 预览（基础旋转 + 光栅效果模拟）
- 保存作品至本地

### P1（重要）
- 视频裁剪功能
- 自定义上传贴纸
- 帧顺序手动调整
- 贴纸缩放/旋转
- 导出 GIF 动图

### P2（优化）
- 社区作品展示
- 撤销/重做操作
- 分享至社交平台

---

## 七、异常场景处理

| 场景 | 处理方式 |
|------|----------|
| 视频格式不支持 | Toast 提示「请上传 MP4 或 MOV 格式视频」 |
| 视频时长超限 | 自动跳转裁剪页，引导用户截取 |
| 视频分辨率过低 | 警告提示「分辨率较低，可能影响打印效果」，允许继续 |
| 抽帧失败 | 提示「视频处理失败，请更换视频重试」 |
| 网络中断 | 显示断网提示，提供「重试」按钮 |
| 支付失败 | 提示失败原因，保留订单可重新支付 |

---

## 八、后续迭代方向

1. **AR 预览**：通过 AR 技术将卡片「放置」在真实环境中预览
2. **模板市场**：用户可分享/售卖自己的边框设计
3. **批量制作**：支持一次上传多个视频批量生成
4. **社交分享**：生成预览动图/视频分享至社交平台
5. **实体周边扩展**：钥匙扣、冰箱贴等更多载体

---

## 九、名词解释

| 术语 | 说明 |
|------|------|
| 光栅卡 | 利用光栅材料制作的卡片，通过不同角度观看可呈现动态或立体效果 |
| 抽帧 | 从视频中按一定间隔提取静态图像帧 |
| 光栅效果 | 多帧图像通过光栅条纹交错排列，产生视角变化时的动画效果 |

---

*文档版本：v1.0*  
*最后更新：2026年1月14日*